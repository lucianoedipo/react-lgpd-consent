<div align="center">
  <h1>react-lgpd-consent ğŸª </h1>
  <p><strong>A biblioteca de consentimento de cookies mais completa para React</strong></p>
  <p>Conformidade com LGPD, GDPR e CCPA (Partial) â€¢ TypeScript First â€¢ Zero Config</p>

  <div>
    <a href="https://www.npmjs.com/package/react-lgpd-consent"><img src="https://img.shields.io/npm/v/react-lgpd-consent?style=for-the-badge&logo=npm&color=cb3837&logoColor=white" alt="NPM Version"></a>
     <a href="https://www.npmjs.com/package/react-lgpd-consent"><img src="https://img.shields.io/npm/dm/react-lgpd-consent?style=for-the-badge&logo=npm&color=ff6b35&logoColor=white" alt="Downloads"></a>
     <a href="https://github.com/lucianoedipo/react-lgpd-consent/blob/main/LICENSE"><img src="https://img.shields.io/npm/l/react-lgpd-consent?style=for-the-badge&color=green&logoColor=white" alt="License"></a>
  </div>
  
  <div>
    <a href="https://www.typescriptlang.org/"><img src="https://img.shields.io/badge/TypeScript-Ready-3178c6?style=for-the-badge&logo=typescript&logoColor=white" alt="TypeScript Ready"></a>
    <a href="https://reactjs.org/"><img src="https://img.shields.io/badge/React-18+-61dafb?style=for-the-badge&logo=react&logoColor=white" alt="React 18+"></a>
    <a href="https://nextjs.org/"><img src="https://img.shields.io/badge/Next.js-Compatible-000000?style=for-the-badge&logo=next.js&logoColor=white" alt="Next.js Compatible"></a>
  </div>

  <br>

  <p>
    <a href="#-instalaÃ§Ã£o"><strong>InstalaÃ§Ã£o</strong></a> â€¢
    <a href="#-uso-bÃ¡sico"><strong>ComeÃ§ar Agora</strong></a> â€¢
    <a href="#-caracterÃ­sticas-principais"><strong>Funcionalidades</strong></a> â€¢
    <a href="#-api-e-funcionalidades"><strong>DocumentaÃ§Ã£o</strong></a> â€¢
    <a href="#-conformidade-e-lgpd"><strong>Compliance</strong></a>
  </p>
</div>

---

## ğŸ¯ **Por que escolher react-lgpd-consent?**

**A Ãºnica biblioteca que vocÃª precisa para compliance completo de cookies no Brasil.** Desenvolvida seguindo as diretrizes oficiais da ANPD (Autoridade Nacional de ProteÃ§Ã£o de Dados), com foco em experiÃªncia do desenvolvedor e performance.

### ğŸ† **Diferencial Competitivo**

- **ğŸ§  AI-Powered Development**: Sistema inteligente de orientaÃ§Ãµes que guia o desenvolvedor
- **ğŸ¯ Zero False Positives**: UI dinÃ¢mica que se adapta Ã s suas necessidades reais
- **ğŸš€ Performance First**: Bundle otimizado com tree-shaking e lazy loading
- **ğŸ›¡ï¸ Enterprise Ready**: Auditoria completa, logs de compliance e versionamento

## âœ¨ CaracterÃ­sticas Principais

<table>
<tr>
<td width="50%">

### ğŸ‡§ğŸ‡· **Compliance Brasileiro**

- **LGPD/ANPD Oficial**: ImplementaÃ§Ã£o baseada nas diretrizes oficiais
- **Auditoria Completa**: Logs detalhados para conformidade
- **MinimizaÃ§Ã£o de Dados**: Armazena apenas o essencial
- **TransparÃªncia Total**: Textos e metadados completos

</td>
<td width="50%">

### ğŸ§  **Developer Experience**

- **AI-Guided Setup**: OrientaÃ§Ãµes automÃ¡ticas no console
- **TypeScript First**: Tipagem completa e autocomplete
- **Zero Config**: Funciona out-of-the-box
- **Hot Reload**: MudanÃ§as instantÃ¢neas em desenvolvimento

</td>
</tr>
<tr>
<td>

### ğŸ¨ **UI/UX Inteligente**

- **Material-UI Native**: Componentes prontos e customizÃ¡veis
- **Responsive Design**: Funciona em todos os dispositivos
- **Dark/Light Mode**: Suporte automÃ¡tico a temas
- **Accessibility First**: WCAG 2.1 AA compliant

</td>
<td>

### âš¡ **Performance**

- **Tree Shaking**: Bundle otimizado automaticamente
- **Lazy Loading**: Carregamento sob demanda
- **SSR/SSG Ready**: Next.js, Gatsby, Remix compatÃ­vel
- **< 5KB gzipped**: Impacto mÃ­nimo no seu app

</td>
</tr>
</table>

### ğŸš€ **IntegraÃ§Ãµes Nativas**

<div align="center">
  <img src="https://img.shields.io/badge/Google_Analytics-E37400?style=for-the-badge&logo=google-analytics&logoColor=white" alt="Google Analytics">
  <img src="https://img.shields.io/badge/Google_Tag_Manager-4285F4?style=for-the-badge&logo=google-tag-manager&logoColor=white" alt="Google Tag Manager">
  <img src="https://img.shields.io/badge/Facebook_Pixel-1877F2?style=for-the-badge&logo=facebook&logoColor=white" alt="Facebook Pixel">
  <img src="https://img.shields.io/badge/Hotjar-FF3C00?style=for-the-badge&logo=hotjar&logoColor=white" alt="Hotjar">
  <img src="https://img.shields.io/badge/UserWay-6C5CE7?style=for-the-badge&logoColor=white" alt="UserWay">
</div>

## ğŸš€ InstalaÃ§Ã£o

<details>
<summary><strong>ğŸ“¦ NPM/Yarn/PNPM</strong></summary>

```bash
# NPM
npm install react-lgpd-consent

# Yarn
yarn add react-lgpd-consent

# PNPM
pnpm add react-lgpd-consent
```

</details>

<details>
<summary><strong>ğŸ“‹ DependÃªncias Peer</strong></summary>

Certifique-se de ter as seguintes dependÃªncias instaladas:

```bash
npm install react react-dom @mui/material @emotion/react @emotion/styled js-cookie
```

**VersÃµes suportadas:**

- React: `^18.0.0`
- Material-UI: `^5.0.0`
- TypeScript: `^4.5.0` (opcional, mas recomendado)

</details>

<details>
<summary><strong>ğŸ¯ InstalaÃ§Ã£o Completa (Recomendada)</strong></summary>

Para uma experiÃªncia completa, instale com todas as integraÃ§Ãµes:

```bash
npm install react-lgpd-consent @mui/material @emotion/react @emotion/styled js-cookie
```

</details>

## ğŸ“– Uso BÃ¡sico

### ğŸ¯ **Setup em 30 segundos**

```tsx
import { ConsentProvider } from 'react-lgpd-consent'

function App() {
  return (
    <ConsentProvider
      categories={{
        enabledCategories: ['analytics', 'marketing'],
      }}
    >
      {/* Sua aplicaÃ§Ã£o */}
      <YourApp />
    </ConsentProvider>
  )
}
```

### ğŸ”¥ **Exemplo Completo com IntegraÃ§Ãµes**

```tsx
import {
  ConsentProvider,
  ConsentScriptLoader,
  createGoogleAnalyticsIntegration,
  createGoogleTagManagerIntegration,
} from 'react-lgpd-consent'

const integrations = [
  createGoogleAnalyticsIntegration({
    measurementId: 'G-XXXXXXXXXX',
  }),
  createGoogleTagManagerIntegration({
    gtmId: 'GTM-XXXXXXX',
  }),
]

function App() {
  return (
    <ConsentProvider
      categories={{
        enabledCategories: ['analytics', 'marketing', 'functional'],
      }}
      texts={{
        controllerInfo:
          'Controlado por: Sua Empresa LTDA (CNPJ: XX.XXX.XXX/XXXX-XX)',
        dataTypes: 'Coletamos dados de navegaÃ§Ã£o, preferÃªncias e interaÃ§Ãµes.',
        userRights:
          'VocÃª pode acessar, corrigir ou excluir seus dados a qualquer momento.',
        contactInfo: 'Entre em contato: privacy@suaempresa.com',
      }}
      onConsentGiven={(state) => {
        console.log('âœ… Consentimento registrado:', state)
        // Opcional: enviar para seu sistema de auditoria
      }}
      onConsentRevoked={(state) => {
        console.log('âŒ Consentimento revogado:', state)
      }}
    >
      {/* Scripts carregados automaticamente apÃ³s consentimento */}
      <ConsentScriptLoader integrations={integrations} />

      {/* Sua aplicaÃ§Ã£o */}
      <HomePage />
    </ConsentProvider>
  )
}
```

### ğŸ¨ **UI Customizada**

```tsx
import { ConsentProvider, useConsent, useCategories } from 'react-lgpd-consent'

function CustomCookieBanner() {
  const { acceptAll, acceptSelected, preferences } = useConsent()
  const categories = useCategories()

  return (
    <div className="custom-banner">
      <h3>ğŸª Personalize sua experiÃªncia</h3>
      <p>Utilizamos cookies para melhorar sua navegaÃ§Ã£o.</p>

      {categories.map((category) => (
        <label key={category.id}>
          <input
            type="checkbox"
            checked={preferences[category.id] ?? false}
            disabled={category.essential}
          />
          {category.name}
        </label>
      ))}

      <button onClick={acceptAll}>Aceitar Todos</button>
      <button onClick={() => acceptSelected(preferences)}>
        Salvar PreferÃªncias
      </button>
    </div>
  )
}

function App() {
  return (
    <ConsentProvider
      categories={{ enabledCategories: ['analytics'] }}
      CookieBannerComponent={CustomCookieBanner}
    >
      <YourApp />
    </ConsentProvider>
  )
}
```

## ğŸ”§ API e Funcionalidades

### ğŸ“Š **Categorias de Cookies Suportadas**

<table>
<tr>
<th>Categoria</th>
<th>ID</th>
<th>DescriÃ§Ã£o</th>
<th>Essencial</th>
</tr>
<tr>
<td>ğŸ”’ <strong>NecessÃ¡rios</strong></td>
<td><code>necessary</code></td>
<td>Cookies essenciais para funcionamento bÃ¡sico</td>
<td>âœ… Sempre ativo</td>
</tr>
<tr>
<td>ğŸ“ˆ <strong>AnalÃ­ticos</strong></td>
<td><code>analytics</code></td>
<td>Google Analytics, Adobe Analytics, etc.</td>
<td>âŒ Opcional</td>
</tr>
<tr>
<td>ğŸ¯ <strong>Marketing</strong></td>
<td><code>marketing</code></td>
<td>Facebook Pixel, Google Ads, remarketing</td>
<td>âŒ Opcional</td>
</tr>
<tr>
<td>âš™ï¸ <strong>Funcionais</strong></td>
<td><code>functional</code></td>
<td>Chat, mapas, vÃ­deos incorporados</td>
<td>âŒ Opcional</td>
</tr>
<tr>
<td>ğŸ‘¥ <strong>Sociais</strong></td>
<td><code>social</code></td>
<td>BotÃµes de compartilhamento, comentÃ¡rios</td>
<td>âŒ Opcional</td>
</tr>
<tr>
<td>ğŸ¨ <strong>PersonalizaÃ§Ã£o</strong></td>
<td><code>personalization</code></td>
<td>PreferÃªncias, temas, idiomas</td>
<td>âŒ Opcional</td>
</tr>
</table>

### ğŸ›ï¸ **ConfiguraÃ§Ã£o AvanÃ§ada**

<details>
<summary><strong>ConsentProvider Props</strong></summary>

```tsx
interface ConsentProviderProps {
  // âœ¨ ConfiguraÃ§Ã£o de Categorias
  categories: {
    enabledCategories: CategoryId[]
    customCategories?: CustomCategory[]
  }

  // ğŸ¨ CustomizaÃ§Ã£o de UI
  CookieBannerComponent?: ComponentType<CustomCookieBannerProps>
  PreferencesModalComponent?: ComponentType<CustomPreferencesModalProps>
  FloatingPreferencesButtonComponent?: ComponentType<CustomFloatingPreferencesButtonProps>

  // ğŸ“ Textos Personalizados
  texts?: {
    controllerInfo?: string
    dataTypes?: string
    userRights?: string
    contactInfo?: string
    // ... mais opÃ§Ãµes
  }

  // âš™ï¸ Comportamento
  blocking?: boolean // Banner bloqueante
  disableDeveloperGuidance?: boolean // Desabilitar orientaÃ§Ãµes

  // ğŸ“Š Callbacks de Auditoria
  onConsentGiven?: (state: ConsentState) => void
  onConsentRevoked?: (state: ConsentState) => void
  onPreferencesChanged?: (state: ConsentState) => void
}
```

</details>

### ğŸª **Hooks DisponÃ­veis**

<details>
<summary><strong>useConsent()</strong></summary>

```tsx
const {
  // ğŸ“Š Estado
  consented, // boolean: usuÃ¡rio jÃ¡ deu consentimento?
  preferences, // Record<string, boolean>: preferÃªncias por categoria
  isHydrated, // boolean: dados carregados do cookie?

  // ğŸ¬ AÃ§Ãµes
  acceptAll, // () => void: aceitar todas as categorias
  rejectAll, // () => void: rejeitar todas (exceto essenciais)
  acceptSelected, // (prefs: Record<string, boolean>) => void
  resetConsent, // () => void: limpar tudo e mostrar banner novamente

  // ğŸ”„ Controle de UI
  showPreferences, // () => void: abrir modal de preferÃªncias
  hidePreferences, // () => void: fechar modal
} = useConsent()
```

</details>

<details>
<summary><strong>useCategories()</strong></summary>

```tsx
const categories = useCategories() // Category[]

// Cada categoria tem:
interface Category {
  id: string
  name: string
  description: string
  essential: boolean
  examples?: string[]
}
```

</details>

<details>
<summary><strong>useCategoryStatus()</strong></summary>

```tsx
const isAnalyticsEnabled = useCategoryStatus('analytics') // boolean | null
// null = categoria nÃ£o configurada
// true = categoria ativa e consentimento dado
// false = categoria ativa mas consentimento negado
```

</details>

### ğŸš€ **IntegraÃ§Ãµes e Scripts**

<details>
<summary><strong>ConsentScriptLoader</strong></summary>

Carrega scripts automaticamente apÃ³s o consentimento:

```tsx
import {
  ConsentScriptLoader,
  createGoogleAnalyticsIntegration,
  createGoogleTagManagerIntegration,
  createFacebookPixelIntegration,
} from 'react-lgpd-consent'

const integrations = [
  createGoogleAnalyticsIntegration({
    measurementId: 'G-XXXXXXXXXX',
    anonymizeIP: true,
    cookieFlags: 'SameSite=None; Secure',
  }),

  createGoogleTagManagerIntegration({
    gtmId: 'GTM-XXXXXXX',
    dataLayerName: 'dataLayer',
  }),

  createFacebookPixelIntegration({
    pixelId: '1234567890',
    advancedMatching: true,
  }),
]

function App() {
  return (
    <ConsentProvider
      categories={{ enabledCategories: ['analytics', 'marketing'] }}
    >
      <ConsentScriptLoader integrations={integrations} />
      <YourApp />
    </ConsentProvider>
  )
}
```

</details>

<details>
<summary><strong>ConsentGate - RenderizaÃ§Ã£o Condicional</strong></summary>

Renderize componentes apenas com consentimento:

```tsx
import { ConsentGate } from 'react-lgpd-consent'

// Componente simples
<ConsentGate category="marketing">
  <FacebookPixel />
</ConsentGate>

// MÃºltiplas categorias (AND)
<ConsentGate categories={['analytics', 'marketing']}>
  <AdvancedTracking />
</ConsentGate>

// Fallback quando nÃ£o consentido
<ConsentGate category="functional" fallback={<StaticMap />}>
  <InteractiveMap />
</ConsentGate>

// Hook para lÃ³gica customizada
function MyComponent() {
  const canShowAds = useCategoryStatus('marketing')

  if (canShowAds === null) return <Loading />
  if (!canShowAds) return <AdFreeExperience />

  return <AdsEnabledExperience />
}
```

</details>

## ğŸ›¡ï¸ Conformidade e LGPD

<div align="center">
  <img src="https://img.shields.io/badge/Audit-Ready-007ACC?style=for-the-badge&logoColor=white" alt="Audit Ready">
  <img src="https://img.shields.io/badge/Privacy-First-6f42c1?style=for-the-badge&logoColor=white" alt="Privacy First">
</div>

### ğŸ“‹ **Checklist de Conformidade LGPD**

<table>
<tr>
<td width="50%">

#### âœ… **PrincÃ­pios Implementados**

- **âœ… MinimizaÃ§Ã£o**: Apenas dados necessÃ¡rios
- **âœ… TransparÃªncia**: Textos claros e detalhados
- **âœ… Consentimento Livre**: NÃ£o bloqueante por padrÃ£o
- **âœ… Finalidade**: Categorias especÃ­ficas e bem definidas
- **âœ… AdequaÃ§Ã£o**: Conformidade com ANPD
- **âœ… SeguranÃ§a**: Cookies HTTPOnly quando possÃ­vel

</td>
<td width="50%">

#### ğŸ“Š **Auditoria e Logs**

- **ğŸ• Timestamp**: Data/hora do consentimento
- **ğŸ“ Origem**: Banner, modal ou API
- **ğŸ”„ Versionamento**: Controle de mudanÃ§as
- **ğŸ“ Metadados**: ConfiguraÃ§Ã£o do projeto
- **ğŸ” Rastreabilidade**: HistÃ³rico completo
- **ğŸ“‹ ExportaÃ§Ã£o**: Logs em formato JSON

</td>
</tr>
</table>

### ğŸ›ï¸ **Conformidade RegulatÃ³ria**

<details>
<summary><strong>ğŸ‡§ğŸ‡· LGPD (Lei Geral de ProteÃ§Ã£o de Dados)</strong></summary>

**Artigos implementados:**

- **Art. 8Âº**: Consentimento livre, informado e inequÃ­voco
- **Art. 9Âº**: Consentimento especÃ­fico e destacado
- **Art. 18Âº**: Direitos do titular (acesso, correÃ§Ã£o, eliminaÃ§Ã£o)
- **Art. 46Âº**: Tratamento de dados sensÃ­veis

**Funcionalidades:**

```tsx
<ConsentProvider
  texts={{
    controllerInfo: 'Controlador: Empresa XYZ (CNPJ: XX.XXX.XXX/XXXX-XX)',
    dataTypes: 'Dados de navegaÃ§Ã£o, IP, cookies funcionais',
    userRights: 'Direito de acesso, correÃ§Ã£o, eliminaÃ§Ã£o e portabilidade',
    contactInfo: 'DPO: privacy@empresa.com | Tel: (11) 9999-9999',
    legalBasis: 'Consentimento (Art. 7Âº, I) e LegÃ­timo Interesse (Art. 7Âº, IX)',
  }}
/>
```

</details>

<details>
<summary><strong>ğŸ‡ªğŸ‡º GDPR (General Data Protection Regulation)</strong></summary>

**PrÃ³xima versÃ£o (v0.3.0)** incluirÃ¡ suporte completo ao GDPR:

- Consentimento granular por categoria
- Right to be forgotten (direito ao esquecimento)
- Data portability (portabilidade de dados)
- Consent withdrawal (retirada de consentimento)

</details>

<details>
<summary><strong>ğŸ‡ºğŸ‡¸ CCPA (California Consumer Privacy Act)</strong></summary>

**Recursos CCPA planejados:**

- "Do Not Sell" toggle
- California resident detection
- Opt-out mechanisms
- Consumer rights notices

</details>

### ğŸ¢ **Para Empresas e Auditoria**

<details>
<summary><strong>ğŸ“Š Sistema de Auditoria Empresarial</strong></summary>

```tsx
import { ConsentProvider, useConsentAudit } from 'react-lgpd-consent'

function AuditDashboard() {
  const auditData = useConsentAudit()

  return (
    <div>
      <h3>ğŸ“Š RelatÃ³rio de Consentimento</h3>
      <p>Total de usuÃ¡rios: {auditData.totalUsers}</p>
      <p>Taxa de aceitaÃ§Ã£o: {auditData.acceptanceRate}%</p>
      <p>Ãšltima atualizaÃ§Ã£o: {auditData.lastUpdate}</p>

      <button onClick={() => auditData.exportLogs('csv')}>
        ğŸ“¥ Exportar Logs CSV
      </button>
    </div>
  )
}

// ConfiguraÃ§Ã£o com callbacks de auditoria
;<ConsentProvider
  onConsentGiven={(state) => {
    // Enviar para sistema de auditoria interno
    fetch('/api/consent-audit', {
      method: 'POST',
      body: JSON.stringify({
        userId: getCurrentUserId(),
        timestamp: new Date().toISOString(),
        preferences: state.preferences,
        source: state.source,
        version: state.version,
      }),
    })
  }}
  // ... outras props
/>
```

</details>

**ğŸ’¡ RecomendaÃ§Ã£o**: Para implementaÃ§Ã£o empresarial, considere nosso pacote premium `react-lgpd-consent-enterprise` com recursos avanÃ§ados de auditoria e relatÃ³rios.

---

## ğŸ¤ ContribuiÃ§Ãµes

<div align="center">
  <img src="https://contrib.rocks/image?repo=lucianoedipo/react-lgpd-consent" alt="Contributors">
</div>

ContribuiÃ§Ãµes sÃ£o **muito bem-vindas**! Este Ã© um projeto open-source e da comunidade brasileira para a comunidade.

### ğŸš€ **Como Contribuir**

1. **ğŸ”§ Issues**: Reporte bugs ou sugira melhorias
2. **ğŸ’¡ Features**: Proponha novas funcionalidades
3. **ğŸ“– DocumentaÃ§Ã£o**: Melhore a documentaÃ§Ã£o
4. **ğŸ§ª Testes**: Adicione ou melhore os testes
5. **ğŸŒ InternacionalizaÃ§Ã£o**: Ajude com traduÃ§Ãµes

### ğŸ“‹ **Roadmap**

<details>
<summary><strong>ğŸ—ºï¸ PrÃ³ximas VersÃµes</strong></summary>

#### v0.3.X+ - Compliance AvanÃ§ado (Em Desenvolvimento)

- [x] Sistema completo de logs de auditoria
- [ ] Templates setoriais (governo, saÃºde, educaÃ§Ã£o)
- [ ] Presets visuais por setor (WCAG AAA)
- [ ] Modal detalhado de cookies

#### v0.4.0 - Multi-RegulamentaÃ§Ã£o

- [ ] Suporte completo GDPR
- [ ] ImplementaÃ§Ã£o CCPA
- [ ] Sistema de plugins extensÃ­vel
- [ ] API server-side para Next.js

#### v0.5.0 - Enterprise Features

- [ ] Dashboard de analytics
- [ ] A/B testing para banners
- [ ] IntegraÃ§Ã£o com CMPs existentes
- [ ] SDK para mobile (React Native)

</details>

### ğŸ’¬ **Comunidade**

- **ğŸ› Issues**: [GitHub Issues](https://github.com/lucianoedipo/react-lgpd-consent/issues)
- **ğŸ’¬ DiscussÃµes**: [GitHub Discussions](https://github.com/lucianoedipo/react-lgpd-consent/discussions)

---

## ğŸ“„ LicenÃ§a

<div align="center">
  <p>
    <img src="https://img.shields.io/npm/l/react-lgpd-consent?style=for-the-badge&color=green&logoColor=white" alt="MIT License">
  </p>
  <p>
    Este projeto estÃ¡ licenciado sob a <strong>MIT License</strong>.<br>
    Veja o arquivo <a href="LICENSE"><strong>LICENSE</strong></a> para mais detalhes.
  </p>
  <p>
    <em>Feito com â¤ï¸ por <a href="https://github.com/lucianoedipo">@lucianoedipo</a> e a comunidade brasileira</em>
  </p>
</div>

---

<div align="center">
  <h3>â­ Se este projeto te ajudou, deixe uma estrela!</h3>
  <p>
    <a href="https://github.com/lucianoedipo/react-lgpd-consent/stargazers">
      <img src="https://img.shields.io/github/stars/lucianoedipo/react-lgpd-consent?style=social" alt="Stars">
    </a>
  </p>
</div>

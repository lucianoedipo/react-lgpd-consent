<div align="center"><div align="center">

  <h1>react-lgpd-consent ğŸª</h1>  <h1>react-lgpd-consent ğŸª</h1>

  <p><strong>LGPD-compliant cookie consent management for React</strong></p>  <p><strong>A React library for cookie consent management compliant with Brazil's LGPD.</strong></p>



  <div>  <div>

    <a href="https://www.npmjs.com/package/react-lgpd-consent"><img src="https://img.shields.io/npm/v/react-lgpd-consent?style=for-the-badge&logo=npm&color=cb3837&logoColor=white" alt="NPM Version"></a>    <a href="https://www.npmjs.com/package/react-lgpd-consent"><img src="https://img.shields.io/npm/v/react-lgpd-consent?style=for-the-badge&logo=npm&color=cb3837&logoColor=white" alt="NPM Version"></a>

    <a href="https://www.npmjs.com/package/react-lgpd-consent"><img src="https://img.shields.io/npm/dm/react-lgpd-consent?style=for-the-badge&logo=npm&color=ff6b35&logoColor=white" alt="Downloads"></a>    <a href="https://www.npmjs.com/package/react-lgpd-consent"><img src="https://img.shields.io/npm/dm/react-lgpd-consent?style=for-the-badge&logo=npm&color=ff6b35&logoColor=white" alt="Downloads"></a>

    <a href="https://github.com/lucianoedipo/react-lgpd-consent/blob/main/LICENSE"><img src="https://img.shields.io/npm/l/react-lgpd-consent?style=for-the-badge&color=green&logoColor=white" alt="License"></a>    <a href="https://github.com/lucianoedipo/react-lgpd-consent/blob/main/LICENSE"><img src="https://img.shields.io/npm/l/react-lgpd-consent?style=for-the-badge&color=green&logoColor=white" alt="License"></a>

    <a href="https://lucianoedipo.github.io/react-lgpd-consent/storybook/"><img src="https://img.shields.io/badge/Storybook-Playground-ff4785?style=for-the-badge&logo=storybook&logoColor=white" alt="Storybook"></a>  <a href="https://lucianoedipo.github.io/react-lgpd-consent/storybook/"><img src="https://img.shields.io/badge/Storybook-Playground-ff4785?style=for-the-badge&logo=storybook&logoColor=white" alt="Storybook"></a>

  </div>  </div>



  <div>  <div>

    <a href="https://www.typescriptlang.org/"><img src="https://img.shields.io/badge/TypeScript-Ready-3178c6?style=for-the-badge&logo=typescript&logoColor=white" alt="TypeScript Ready"></a>    <a href="https://www.typescriptlang.org/"><img src="https://img.shields.io/badge/TypeScript-Ready-3178c6?style=for-the-badge&logo=typescript&logoColor=white" alt="TypeScript Ready"></a>

    <a href="https://reactjs.org/"><img src="https://img.shields.io/badge/React-18%2B%2019-61dafb?style=for-the-badge&logo=react&logoColor=white" alt="React 18+19"></a>    <a href="https://reactjs.org/"><img src="https://img.shields.io/badge/React-18+-61dafb?style=for-the-badge&logo=react&logoColor=white" alt="React 18+"></a>

    <a href="https://nextjs.org/"><img src="https://img.shields.io/badge/Next.js-Compatible-000000?style=for-the-badge&logo=next.js&logoColor=white" alt="Next.js Compatible"></a>    <a href="https://nextjs.org/"><img src="https://img.shields.io/badge/Next.js-Compatible-000000?style=for-the-badge&logo=next.js&logoColor=white" alt="Next.js Compatible"></a>

  </div>  </div>



  <div>  <div>

    <a href="https://codecov.io/gh/lucianoedipo/react-lgpd-consent"><img src="https://img.shields.io/codecov/c/github/lucianoedipo/react-lgpd-consent?style=for-the-badge&logo=codecov&logoColor=white" alt="Coverage"></a>    <a href="https://codecov.io/gh/lucianoedipo/react-lgpd-consent"><img src="https://img.shields.io/codecov/c/github/lucianoedipo/react-lgpd-consent?style=for-the-badge&logo=codecov&logoColor=white" alt="Coverage"></a>

    <a href="https://bundlephobia.com/package/react-lgpd-consent"><img src="https://img.shields.io/bundlephobia/minzip/react-lgpd-consent?style=for-the-badge&logo=webpack&logoColor=white&label=Bundle" alt="Bundle Size"></a>    <a href="https://bundlephobia.com/package/react-lgpd-consent"><img src="https://img.shields.io/bundlephobia/minzip/react-lgpd-consent?style=for-the-badge&logo=webpack&logoColor=white" alt="Bundle Size"></a>

  </div>    <a href="https://nodejs.org"><img src="https://img.shields.io/node/v/react-lgpd-consent?style=for-the-badge&logo=node.js&logoColor=white" alt="Node Version"></a>

  </div>

  <br />

  <br />

  <p>

    <a href="#-installation"><strong>Installation</strong></a> â€¢  <p>

    <a href="#-quick-start"><strong>Quick Start</strong></a> â€¢    <a href="#installation"><strong>Installation</strong></a> â€¢

    <a href="https://github.com/lucianoedipo/react-lgpd-consent/blob/main/QUICKSTART.en.md"><strong>ğŸ“š Complete Guide</strong></a> â€¢    <a href="#basic-usage"><strong>Basic Usage</strong></a> â€¢

    <a href="#-documentation"><strong>Documentation</strong></a> â€¢    <a href="./QUICKSTART.md"><strong>ğŸ“š Quickstart</strong></a> â€¢

    <a href="https://github.com/lucianoedipo/react-lgpd-consent/blob/main/packages/react-lgpd-consent/README.md">ğŸ‡§ğŸ‡· PortuguÃªs</a>    <a href="#documentation"><strong>Documentation</strong></a> â€¢

  </p>    <a href="#contributing"><strong>Contributing</strong></a>

</div>  </p>



---  <p align="center">

  <a href="./QUICKSTART.en.md"><img src="https://img.shields.io/badge/Quickstart-Get%20Started-blue?style=for-the-badge&logo=book" alt="Quickstart"></a>

## ğŸ¯ What's New in v0.5.0  </p>



### ğŸ—ï¸ Modular Architecture (BREAKING CHANGE)  <p align="center"><strong>Start here:</strong> follow the <a href="./QUICKSTART.en.md">Quickstart guide (QUICKSTART.en.md)</a> for step-by-step setup, TypeScript examples, props summary and MUI integration â€” recommended for new users.</p>

</div>

v0.5.0 introduces a **monorepo architecture** with 3 independent packages:

---

| Package | Description | Bundle Size | Use when... |

|---------|-------------|-------------|-------------|## ğŸš€ Installation

| [`@react-lgpd-consent/core`](https://www.npmjs.com/package/@react-lgpd-consent/core) | Headless logic, no UI | ~86 KB | You want to build custom UI |

| [`@react-lgpd-consent/mui`](https://www.npmjs.com/package/@react-lgpd-consent/mui) | Ready-to-use Material-UI components | ~104 KB | You want pre-built MUI components |```bash

| `react-lgpd-consent` | Aggregator (re-exports MUI) | ~104 KB | **v0.4.x compatibility** |npm install react-lgpd-consent @mui/material @emotion/react @emotion/styled js-cookie

```

> **ğŸ’¡ This package (`react-lgpd-consent`)** is the aggregator that maintains backward compatibility. It re-exports `@react-lgpd-consent/mui` and works exactly like v0.4.x, but with the new architecture.

**Peer dependencies:** `react`, `react-dom`, `@mui/material` and `js-cookie`.

### âœ¨ New Features in v0.5.0

---

- âœ… **Auto-injection of Components**: MUI's `ConsentProvider` automatically injects Banner, Modal, and Floating Button

- âœ… **Integrated MUI Theme**: Optional ThemeProvider support with `createDefaultConsentTheme()`## âœ¨ What's New in v0.4.5

- âœ… **Granular Control**: Props to disable individual components (`disableDefaultBanner`, `disableDefaultModal`, `disableDefaultFloatingButton`)

- âœ… **Developer Warnings**: Intelligent system that warns when UI components are missing (DEV only)### ğŸ“Š DataLayer Events for Google Tag Manager

- âœ… **TypeScript Monorepo**: Configured paths for better IDE DX- **Standardized Events**: `consent_initialized` and `consent_updated` automatically dispatched

- **Origin Tracking**: Identifies whether decision came from banner, modal, reset, or programmatic API

### ğŸ“¦ Migration from v0.4.x â†’ v0.5.0- **LGPD Audit**: Complete change history with `changed_categories` and ISO 8601 timestamps

- **GTM Integration**: Full documentation with trigger and tag examples

**If you use `react-lgpd-consent` (this package):**- **Public API**: Exported `pushConsentInitializedEvent` and `pushConsentUpdatedEvent` functions



âœ… **No changes needed!** The API is 100% backward compatible.### ğŸ”§ CI/CD Improvements

- **Migration to pnpm**: Workflows updated from npm to pnpm, resolving dependency conflicts

```tsx- **Optimized Build**: Faster and more reliable pipeline

// v0.4.x - still works

import { ConsentProvider, useConsent } from 'react-lgpd-consent'---



// v0.5.0 - same API, same components## ğŸ“– Basic Usage

import { ConsentProvider, useConsent } from 'react-lgpd-consent'

```Wrap your app with `ConsentProvider` (minimal example):



**If you want to optimize bundle size:**```tsx

import { ConsentProvider } from 'react-lgpd-consent'

```tsx

// Option 1: Core (headless) + your own UI (~86 KB)export default function App() {

import { ConsentProvider } from '@react-lgpd-consent/core'  return (

    <ConsentProvider categories={{ enabledCategories: ['analytics'] }}>

// Option 2: MUI with ready components (~104 KB)      <YourApp />

import { ConsentProvider } from '@react-lgpd-consent/mui'    </ConsentProvider>

  )

// Option 3: Aggregator (compatibility) (~104 KB)}

import { ConsentProvider } from 'react-lgpd-consent' // This package```

```

- For full guides, TypeScript examples, props table and integrations see:

----

- **[QUICKSTART.en.md](./QUICKSTART.en.md)** (recommended)

## ğŸš€ Installation  - New in v0.4.0: `customCategories` support â€” see the â€œCustom categories (customCategories)â€ section in the Quickstart.

  - New in v0.4.1: native integrations for Facebook Pixel, Hotjar, Mixpanel, Clarity, Intercom, and Zendesk â€” see [INTEGRACOES.md](./INTEGRACOES.md).

```bash  - Tip: set `designTokens.layout.backdrop: 'auto'` for a theme-aware blocking banner backdrop.

npm install react-lgpd-consent  - Auto-config of categories: the library detects required categories from integrations and surfaces toggles even if you forgot to enable them (initial value is always rejected). We still recommend explicitly listing them in `categories.enabledCategories` for clarity.

```  - Non-blocked Policy/Terms pages: if `policyLinkUrl` and/or `termsLinkUrl` point to the current page, the blocking overlay is not applied â€” ensuring readability of these pages.

- **[Docs / API](./API.md)**

### Peer Dependencies (auto-installed if not present)- **[LGPD Compliance](./CONFORMIDADE.md)**

- **[Integrations](./INTEGRACOES.md)**

```bash

npm install react react-dom @mui/material @emotion/react @emotion/styled### ğŸ¨ Interactive Documentation (GitHub Pages)

```- **[ğŸ“– Storybook - Interactive Playground](https://lucianoedipo.github.io/react-lgpd-consent/storybook/)**: Explore and test all components live with interactive controls.

- **[âš™ï¸ TypeDoc - API Reference](https://lucianoedipo.github.io/react-lgpd-consent/docs/)**: Automatically generated complete API documentation.

---- **[ğŸ  Documentation Portal](https://lucianoedipo.github.io/react-lgpd-consent/)**: Home page that navigates between all docs sites.



## âš¡ Quick Start### ğŸ§‘â€ğŸ« Developer Guidance (dev-only)



### Basic Setup (3 lines of code)In development, the library prints a guidance panel in the console to help you configure correctly:

- Warns when using default categories; suggests making them explicit

```tsx- Lists active categories and which ones require a UI toggle

import { ConsentProvider } from 'react-lgpd-consent'- Detects integrations that require categories and suggests enabling them

- Flags excessive number of categories (UX)

export default function App() {- Highlights Brazilian LGPD best practices: opt-out by default, clear policy, consent logging, retention

  return (- Silenced in production; SSR-safe

    <ConsentProvider categories={{ enabledCategories: ['analytics', 'marketing'] }}>

      <YourApp />### âš ï¸ Breaking Changes v0.4.1

    </ConsentProvider>- **Custom categories support**: `setPreference` and `ScriptIntegration.category` now use `string` instead of `Category`

  )- **Minimal impact**: Code using literal strings continues working without changes

}- **Migration guide**: See [CHANGELOG.md](./CHANGELOG.md) for complete details

```

---

**This already includes:**

- âœ… Cookie banner## ğŸ¤ Contributing

- âœ… Preferences modal

- âœ… Floating button to reopen preferences1. Open an Issue for bugs or feature requests.

- âœ… Cookie persistence2. Follow `DEVELOPMENT.md` to submit a PR.

- âœ… SSR-safe (Next.js, Remix)

---

### Access Consent State

## ğŸ“„ License

```tsx

import { useConsent } from 'react-lgpd-consent'MIT â€” see the `LICENSE` file.


function MyComponent() {
  const { preferences, acceptCategory, rejectCategory } = useConsent()

  if (preferences.analytics) {
    // Analytics is allowed, load scripts
  }

  return (
    <button onClick={() => acceptCategory('marketing')}>
      Accept Marketing
    </button>
  )
}
```

### Load Scripts Based on Consent

```tsx
import { ConsentScriptLoader } from 'react-lgpd-consent'

function Analytics() {
  return (
    <ConsentScriptLoader
      category="analytics"
      src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"
      strategy="afterInteractive"
    >
      {`
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');
      `}
    </ConsentScriptLoader>
  )
}
```

---

## ğŸ¨ Customization

### Material-UI Theme

```tsx
import { ConsentProvider, createDefaultConsentTheme } from 'react-lgpd-consent'

<ConsentProvider
  theme={createDefaultConsentTheme({
    palette: {
      primary: { main: '#your-brand-color' }
    }
  })}
  categories={{ enabledCategories: ['analytics'] }}
>
  <App />
</ConsentProvider>
```

### Disable Default Components

```tsx
import { ConsentProvider, CookieBanner, PreferencesModal } from 'react-lgpd-consent'

<ConsentProvider
  categories={{ enabledCategories: ['analytics'] }}
  disableDefaultBanner
  disableDefaultModal
>
  {/* Use your own components */}
  <CookieBanner position="bottom-left" />
  <PreferencesModal showBranding={false} />
  <App />
</ConsentProvider>
```

### Advanced Design Tokens

```tsx
<ConsentProvider
  categories={{ enabledCategories: ['analytics'] }}
  designTokens={{
    colors: {
      primary: '#1976d2',
      secondary: '#dc004e',
      background: '#ffffff',
    },
    layout: {
      backdropColor: 'rgba(0, 0, 0, 0.8)',
      bannerPosition: 'bottom-center',
    },
    typography: {
      fontFamily: 'Inter, sans-serif',
    }
  }}
>
  <App />
</ConsentProvider>
```

---

## ğŸ“š Documentation

### ğŸ“– Complete Guides (GitHub)

- [**ğŸ“š Quickstart**](https://github.com/lucianoedipo/react-lgpd-consent/blob/main/QUICKSTART.en.md): Step-by-step tutorial with TypeScript examples
- [**ğŸ—ï¸ API Reference**](https://github.com/lucianoedipo/react-lgpd-consent/blob/main/API.md): Complete reference for components, hooks, and types
- [**âš–ï¸ LGPD Compliance**](https://github.com/lucianoedipo/react-lgpd-consent/blob/main/CONFORMIDADE.md): Details about compliance and auditing
- [**ğŸ”Œ Integrations**](https://github.com/lucianoedipo/react-lgpd-consent/blob/main/INTEGRACOES.md): Google Analytics, GTM, Facebook Pixel, Hotjar, etc.
- [**ğŸ›ï¸ Architecture**](https://github.com/lucianoedipo/react-lgpd-consent/blob/main/ARCHITECTURE.md): Monorepo architecture details for v0.5.0
- [**ğŸ“ Changelog**](https://github.com/lucianoedipo/react-lgpd-consent/blob/main/CHANGELOG.md): Complete version history

### ğŸ¨ Interactive Documentation (GitHub Pages)

- [**ğŸ­ Storybook - Interactive Playground**](https://lucianoedipo.github.io/react-lgpd-consent/storybook/): Explore and test all components in real-time
- [**âš™ï¸ TypeDoc - API Docs**](https://lucianoedipo.github.io/react-lgpd-consent/docs/): Auto-generated API documentation
- [**ğŸ  Documentation Portal**](https://lucianoedipo.github.io/react-lgpd-consent/): Central navigation for all docs

---

## ğŸ”Œ Native Integrations

The library includes ready-to-use integrations for:

- âœ… **Google Analytics 4** (GA4)
- âœ… **Google Tag Manager** (GTM)
- âœ… **Facebook Pixel**
- âœ… **Hotjar**
- âœ… **Microsoft Clarity**
- âœ… **Mixpanel**
- âœ… **Intercom**
- âœ… **Zendesk**
- âœ… **UserWay** (Accessibility)

```tsx
import { ConsentScriptLoader, createGoogleAnalyticsIntegration } from 'react-lgpd-consent'

<ConsentScriptLoader integration={createGoogleAnalyticsIntegration('GA_ID')} />
```

[**See complete integrations guide â†’**](https://github.com/lucianoedipo/react-lgpd-consent/blob/main/INTEGRACOES.md)

---

## ğŸ§© Package Ecosystem

```
react-lgpd-consent (this package - aggregator)
â”œâ”€â”€ @react-lgpd-consent/core      # Headless (86 KB)
â””â”€â”€ @react-lgpd-consent/mui       # MUI Components (104 KB)
```

### When to use each package?

| Scenario | Recommended Package |
|----------|---------------------|
| **Migration from v0.4.x** | `react-lgpd-consent` (this) |
| **Complete custom UI** | `@react-lgpd-consent/core` |
| **Ready MUI components** | `@react-lgpd-consent/mui` |
| **New project with MUI** | `@react-lgpd-consent/mui` |
| **Optimized bundle** | `@react-lgpd-consent/core` |

---

## ğŸŒŸ Features

- âœ… **TypeScript First**: Complete types and automatic inference
- âœ… **SSR-Safe**: Compatible with Next.js (App Router + Pages Router), Remix
- âœ… **Zero Config**: Works out-of-the-box with sensible defaults
- âœ… **Accessible**: WCAG 2.1 AA compliance, keyboard navigation, screen readers
- âœ… **Responsive**: Mobile-first design with adaptive breakpoints
- âœ… **Tree-shakeable**: Import only what you use
- âœ… **Themes**: Light/Dark/Auto with smooth transitions
- âœ… **i18n**: Multi-language support (pt-BR, en, es)
- âœ… **Auditable**: Developer logs and DataLayer events for GTM

---

## ğŸ¤ Contributing

Contributions are welcome! See the [Development Guide](https://github.com/lucianoedipo/react-lgpd-consent/blob/main/DEVELOPMENT.md).

1. Fork the repository
2. Create a branch: `git checkout -b feature/my-feature`
3. Commit: `git commit -m 'feat: my new feature'`
4. Push: `git push origin feature/my-feature`
5. Open a Pull Request

---

## ğŸ“„ License

MIT Â© [Luciano Edipo](https://github.com/lucianoedipo)

---

## ğŸ”— Useful Links

- [**GitHub Repository**](https://github.com/lucianoedipo/react-lgpd-consent)
- [**NPM Package**](https://www.npmjs.com/package/react-lgpd-consent)
- [**Issues & Bugs**](https://github.com/lucianoedipo/react-lgpd-consent/issues)
- [**Changelog**](https://github.com/lucianoedipo/react-lgpd-consent/blob/main/CHANGELOG.md)

---

<div align="center">
  <sub>Made with â¤ï¸ for the React community</sub>
</div>
